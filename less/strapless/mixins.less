.text-color(@color) when (luma(@color) < 73.5%) {
  color: hsl(hue(@color); saturation(@color) + 10; 98%); // pretty much white
}

.text-color(@color) when (luma(@color) >= 73.5%) {
  color: mix(darken(@color;20%); #333; 40%);
}

.text-color-dim(@color) when (luma(@color) < 73.5%) {
    color: hsl(hue(@color); saturation(@color); 90%);
}

.text-color-dim(@color) when (luma(@color) >= 73.5%) {
  color: mix(darken(@color;10%); #444; 50%);
}

.headline-color(@color) {
    color: mix(darken(@color;30%); #333; 40%);
}

.headline-color(@color) when (@scheme-type = dark) {
    color:white;
}

.contrast-text-against(@color) {
  .text-color(@color);
}

.clearfix() {
  &:before,
  &:after {
    content: " ";
    display: table;
  }
  &:after {
    clear: both;
  }
}

// TODO: should we keep these?

.rotate(@degrees) {
  -webkit-transform: rotate(@degrees);
      -ms-transform: rotate(@degrees);
       -o-transform: rotate(@degrees);
          transform: rotate(@degrees);
}

.box-shadow(@shadow) {
  -webkit-box-shadow: @shadow;
          box-shadow: @shadow;
}

.sl-form(@color) {
  #strapless.make-palette(@color, ebb);
  @input-color: #fafafa;
  background: @color1;
  .contrast-text-against(@color1);
  padding: @padding;
  max-width: 38ch;

  > * {
    width: 100%;
    max-width: 36ch;
    margin-bottom: .8em;

    & + button {
      margin-top: .8em;
      margin-bottom: @padding/4;
      font-size: 133%;
    }
  }

  input,
  textarea {
    padding: @padding;
    border: none;
    background: @input-color;
    .contrast-text-against(@input-color);
  }

  button {
    background: @color1a;
    .contrast-text-against(@color1a);
  }

  select {
    padding: @padding;
    .contrast-text-against(@input-color);
    vertical-align: middle;
    background: @input-color;
    background-image: none;
    border: none;
    border-radius:0;
    -moz-appearance: none;
    -webkit-appearance: none;
  }
}