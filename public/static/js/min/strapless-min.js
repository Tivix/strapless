var Strapless=function(){function e(){console.log("generate fav");var e=document.createElement("canvas"),t,n=document.getElementById("favicon"),o=document.getElementById("get_color1"),l=document.getElementById("get_color2"),c=document.getElementById("get_color3"),s=document.getElementById("get_color4");if(e.getContext){e.height=e.width=16,t=e.getContext("2d");var d=window.getComputedStyle(o).color,u=window.getComputedStyle(l).color,a=window.getComputedStyle(c).color,i=window.getComputedStyle(s).color;t.fillStyle=d,t.fillRect(1,1,7,7),t.fillStyle=u,t.fillRect(9,9,15,15),t.fillStyle=a,t.fillRect(9,1,15,7),t.fillStyle=i,t.fillRect(1,9,7,15),n.href=e.toDataURL("image/png")}}function t(e){return new Promise(function(t,n){var o=new XMLHttpRequest;o.open("GET","/less/"+e),o.onload=function(){this.status>=200&&this.status<300?t(o.response):n({status:this.status,statusText:o.statusText})},o.onerror=function(){n({status:this.status,statusText:o.statusText})},o.send()})}function n(e){for(var t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];if(n.title==e)return n}}function o(){for(var e=0;e<document.styleSheets.length;e++)document.head.removeChild(document.styleSheets[e].ownerNode)}function l(){var e=document.getElementById("style_block"),n=document.getElementById("seed_color").value,l=document.getElementById("loading_overlay");l.style.display="block",t(n).then(function(e){o();var t=e,n=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",c.styleSheet?c.styleSheet.cssText=t:c.appendChild(document.createTextNode(t)),n.appendChild(c),l.style.display="none"}).catch(function(e){console.error(e)})}return{updateScheme:function(){l()},generateFavicon:function(){e()}}}();